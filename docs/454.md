# WordPress 5.5 çš„æ–°ç‰¹æ€§â€”â€”å¯¹ä¸€ä¸ª(å²è¯—èˆ¬çš„)ç‰ˆæœ¬çš„æ·±å…¥æ¢ç©¶

> åŸæ–‡ï¼š<https://kinsta.com/blog/wordpress-5-5/>

WordPress 5.5â€œEckstineâ€å·²ç»è¿‡æ—¶äº†ï¼Œæ˜¯æ—¶å€™è®©æˆ‘ä»¬ä»‹ç»ä»Šå¹´ç¬¬äºŒæ¬¡å‘å¸ƒçš„ WordPress ä¸­æ·»åŠ åˆ° Core ä¸­çš„æœ€æ˜¾è‘—çš„å˜åŒ–å’Œç‰¹æ€§äº†ã€‚

è¿™äº›å¤©ï¼Œæˆ‘ä»¬ä¹ æƒ¯äºåœ¨æ¯ä¸ª WordPress ç‰ˆæœ¬ä¸­çœ‹åˆ°è®¸å¤š block ç¼–è¾‘å™¨çš„å¢åŠ ã€‚WordPress 5.5 ä¹Ÿä¸ä¾‹å¤–ï¼

è¿™ä¸ªç‰ˆæœ¬ä¹Ÿå¸¦æ¥äº†å¤§é‡ä¸ç¼–è¾‘å™¨æ— å…³çš„å˜åŒ–ï¼Œè¿™äº›å˜åŒ–å°†å¯¹æˆ‘ä»¬ä½¿ç”¨ [CMS](https://kinsta.com/knowledgebase/content-management-system/) çš„æ–¹å¼äº§ç”Ÿå·¨å¤§å½±å“ã€‚



### ä¿¡æ¯

æˆ‘ä»¬å°†ä¸¾åŠä¸€åœºå…è´¹çš„ç½‘ç»œç ”è®¨ä¼šæ¥å±•ç¤ºå’Œè®¨è®º WordPress 5.5 çš„æ–°åŠŸèƒ½ï¼Œ[è¯·åŠ¡å¿…å‚åŠ æˆ‘ä»¬çš„æ´»åŠ¨](https://kinsta.com/webinars/wordpress-5-5/)ï¼



è™½ç„¶ WordPress 5.5 ç»™ WordPress Core å¸¦æ¥äº†è®¸å¤šå˜åŒ–ï¼Œä½†æ˜¯ç”±äºå‡ ä¸ªæœªè§£å†³çš„é—®é¢˜ï¼Œ5.5 ä¸­æœŸå¾…çš„å‡ ä¸ªåŠŸèƒ½å·²ç»è¢«æ¨è¿Ÿå¹¶ä»è¿™ä¸ªç‰ˆæœ¬ä¸­åˆ é™¤ã€‚å› æ­¤ï¼Œå…¨ç«™ç‚¹ç¼–è¾‘ã€å¯¼èˆªå—ã€å¯¼èˆªå±å¹•å’Œå°å·¥å…·å±å¹•ä¸æ˜¯ WordPress 5.5 çš„ä¸€éƒ¨åˆ†ã€‚

å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº WordPress 5.5 å¼€å‘å‘¨æœŸçš„ä¿¡æ¯ï¼Œè¯·ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥:

*   2020 å¹´ 7 æœˆ 7 æ—¥: [Beta 1](https://wordpress.org/news/2020/07/wordpress-5-5-beta-1/)
*   2020 å¹´ 7 æœˆ 14 æ—¥: [Beta 2](https://wordpress.org/news/2020/07/wordpress-5-5-beta-2/)
*   2020 å¹´ 7 æœˆ 21 æ—¥: [Beta 3](https://wordpress.org/news/2020/07/wordpress-5-5-beta-3/)
*   2020 å¹´ 7 æœˆ 27 æ—¥: [Beta 4](https://wordpress.org/news/2020/07/wordpress-5-5-beta-4/)
*   2020 å¹´ 7 æœˆ 28 æ—¥: [RC 1](https://wordpress.org/news/2020/07/wordpress-5-5-release-candidate/)
*   2020 å¹´ 8 æœˆ 4 æ—¥: [RC 2](https://wordpress.org/news/2020/08/wordpress-5-5-release-candidate-2/)
*   2020 å¹´ 8 æœˆ 10 æ—¥:RC 3
*   2020 å¹´ 8 æœˆ 10 æ—¥:WordPress 5.5 å‘å¸ƒçš„è¯•è¿è¡Œ
*   2020 å¹´ 8 æœˆ 11 æ—¥:WordPress 5.5 çš„æœ€ç»ˆå‘å¸ƒ

é‚£ä¹ˆï¼ŒWordPress 5.5 æœ‰ä»€ä¹ˆæ–°åŠŸèƒ½ï¼Ÿ

[WordPress 5.5 is the second WordPress release of 2020 and we're happy to introduce the most noticeable features added to Core ğŸ¥³ Check out what's new in WordPress 5.5 ğŸClick to Tweet](https://twitter.com/intent/tweet?url=https%3A%2F%2Fkinsta.com%2Fblog%2Fwordpress-5-5%2F&via=kinsta&text=WordPress+5.5+is+the+second+WordPress+release+of+2020+and+we%27re+happy+to+introduce+the+most+noticeable+features+added+to+Core+%F0%9F%A5%B3+Check+out+what%27s+new+in+WordPress+5.5+%F0%9F%8E%81) ## å—ç¼–è¾‘å™¨çš„æ–°ç‰¹æ€§

éšç€ WordPress 5.5 çš„æœ€ç»ˆå‘å¸ƒï¼Œåä¸ªç‰ˆæœ¬çš„ [Gutenberg](https://kinsta.com/blog/gutenberg-wordpress-editor/) æ’ä»¶è¢«æ·»åŠ åˆ°æ ¸å¿ƒä¸­ï¼Œå¸¦æ¥äº†å¤§é‡çš„ UI æ”¹è¿›ã€åŠŸèƒ½ã€å¢å¼ºå’Œé”™è¯¯ä¿®å¤ï¼Œå½±å“äº†ç¼–è¾‘ä½“éªŒçš„æ–¹æ–¹é¢é¢ï¼Œä»å¯ç”¨æ€§åˆ°åŠŸèƒ½å’Œæ€§èƒ½ã€‚









åœ¨è¿™é‡Œæåˆ°æ‰€æœ‰è¿™äº›å˜åŒ–å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ ä¼šå‘ç°æˆ‘ä»¬æœ€å–œæ¬¢çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›çš„ç²¾é€‰ã€‚

å…³äº WordPress 5.5 ä¸­æ·»åŠ åˆ°å—ç¼–è¾‘å™¨çš„æ”¹è¿›å’Œç‰¹æ€§çš„æ›´å…¨é¢åˆ—è¡¨ï¼Œè¯·å‚è§æ’ä»¶ç‰ˆæœ¬çš„å®˜æ–¹å…¬å‘Š: [7.5](https://make.wordpress.org/core/2020/02/12/whats-new-in-gutenberg-12-february/) ã€ [7.6](https://make.wordpress.org/core/2020/02/26/whats-new-in-gutenberg-26-february/) ã€ [7.7](https://make.wordpress.org/core/2020/03/11/whats-new-in-gutenberg-11-march/) ã€ [7.8](https://make.wordpress.org/core/2020/03/26/whats-new-in-gutenberg-25-march/) ã€ [7.9](https://make.wordpress.org/core/2020/04/15/whats-new-in-gutenberg-15-april/) ã€ [8.0](https://make.wordpress.org/core/2020/04/29/whats-new-in-gutenberg-29-april/) ã€ [8.1](https://make.wordpress.org/core/2020/05/13/whats-new-in-gutenberg-13-may/) ã€ [8.2](https://make.wordpress.org/core/2020/05/27/whats-new-in-gutenberg-27-may/) ã€[8.3](https://make.wordpress.org/core/2020/06/11/whats-new-in-gutenberg-11-june/)

ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä»‹ç» WordPress 5.5 ç»™å—ç¼–è¾‘å™¨å¸¦æ¥çš„ä»¥ä¸‹é™„åŠ åŠŸèƒ½:

1.  [æ–°çš„ UI è®¾è®¡](#new-ui-design)
2.  [æ¨¡å—è®¾è®¡å·¥å…·](#block-design-tools)
3.  [åœ¨çº¿å›¾åƒç¼–è¾‘](#inline-image-editing)
4.  [å—ç±»åˆ«å’Œæ–°å—æ’å…¥å™¨é¢æ¿](#block-categories)
5.  [å±è”½ç›®å½•å’Œå±è”½æ’ä»¶](#block-directory)
6.  [å—çŠ¶å›¾æ¡ˆ](#block-patterns)

### æ–°çš„ç”¨æˆ·ç•Œé¢è®¾è®¡

Gutenberg æ’ä»¶çš„æ¯ä¸ªç‰ˆæœ¬éƒ½å¸¦æ¥äº†ä¸å°çš„æ”¹è¿›ï¼Œè¿™äº›æ”¹è¿›æ­£åœ¨æ‚„æ‚„åœ°æ”¹å˜ç€æ•´ä½“çš„ç¼–è¾‘ä½“éªŒã€‚è®¸å¤šè¿™äº›å˜åŒ–ç°åœ¨å°†è¢«åˆå¹¶åˆ° WordPress æ ¸å¿ƒä¸­ã€‚æ‰€ä»¥ï¼Œå½“ä½ ç¬¬ä¸€æ¬¡åœ¨ WordPress 5.5 ä¸­å¯åŠ¨å—ç¼–è¾‘å™¨æ—¶ï¼Œä¸€ä¸ªç¨å¾®ä¸åŒçš„ç•Œé¢åº”è¯¥ä¼šå¸å¼•ä½ çš„æ³¨æ„ã€‚ä½ ä¼šå‘ç°:

*   ç®€åŒ–çš„å—å·¥å…·æ 
*   æ›´å¼ºçš„[è‰²å½©å¯¹æ¯”](https://kinsta.com/blog/website-color-schemes/)
*   æ–°å›¾æ ‡
*   è¡—åŒºæ¬è¿å·¥
*   å‘¨å›´å…ƒç´ 
*   è®¾å¤‡é¢„è§ˆ
*   æ”¹è¿›çš„æ‹–æ”¾åŠŸèƒ½
*   æ•´ä¸ªç”¨æˆ·ç•Œé¢ä¸­æ”¹è¿›å’Œç»Ÿä¸€çš„å—ç„¦ç‚¹æ ·å¼
*   ä¸€æ¬¡æ ¼å¼åŒ–å¤šä¸ªå—çš„èƒ½åŠ›
*   æ›´å¥½çš„æ€§èƒ½

![Formatting multiple blocks in WordPress 5.5](img/1917c92f429b81dfec113ffca3bab335.png)

Formatting multiple blocks in WordPress 5.5



ä¸Šé¢æåˆ°çš„åªæ˜¯å½±å“ç¼–è¾‘ä½“éªŒçš„è®¸å¤šå˜åŒ–ä¸­çš„å‡ ä¸ªã€‚

![Mobile preview in WordPress 5.5](img/d3f1be254fba2ac21f1dd599da831599.png)

Mobile preview in WordPress 5.5



å…¶ä»–å˜åŒ–è¿˜åŒ…æ‹¬:

#### ä¸‹æ ‡å’Œä¸Šæ ‡é€‰é¡¹

ä¸‹æ ‡å’Œä¸Šæ ‡æ–‡æœ¬çš„æ ¼å¼é€‰é¡¹ç°åœ¨å¯ä»¥é€šè¿‡å¯Œæ–‡æœ¬æ§ä»¶ä½¿ç”¨( [Gutenberg 8.0](https://make.wordpress.org/core/2020/04/29/whats-new-in-gutenberg-29-april/) )ã€‚

![New block toolbar](img/f84b625d0d78b8fd3f0055945ed1149c.png)

The new block toolbar with redesigned icons, block mover and better color contrast



#### çˆ¶å—é€‰æ‹©

ä¸€ä¸ªå…¨æ–°çš„å·¥å…·æ æŒ‰é’®ç°åœ¨æ˜¾ç¤ºå‡ºæ¥æ—¶ï¼Œæ‚¬åœåœ¨å·¦ä¾§çš„å—å·¥å…·æ ã€‚æ–°æŒ‰é’®å…è®¸åœ¨åµŒå¥—ä¸Šä¸‹æ–‡ä¸­é€‰æ‹©çˆ¶å—([å¤è…¾å ¡ 8.3](https://make.wordpress.org/core/2020/06/11/whats-new-in-gutenberg-11-june/) )ã€‚

![The parent selector in a Media Text block](img/119390a8e8500e5d2bbbe2d6d745c33c.png)

The parent selector in a Media & Text block



### å—è®¾è®¡å·¥å…·

å‡ ä¸ªè®¾è®¡å·¥å…·å·²ç»åœ¨è¿‡å»çš„å‡ ä¸ªæœˆä¸­è¢«æ·»åŠ åˆ° Gutenberg æ’ä»¶ä¸­ï¼Œç°åœ¨å°†è¢«åŒ…å«åœ¨ WordPress 5.5 çš„æ ¸å¿ƒä¸­ã€‚

#### é«˜åº¦æ§åˆ¶å’ŒèƒŒæ™¯æ¸å˜

ç¬¬ä¸€ç»„å·¥å…·æä¾›äº†å¯¹å‡ ä¸ªå—çš„å°ºå¯¸å’ŒèƒŒæ™¯é¢œè‰²çš„æ§åˆ¶( [Gutenberg 7.9](https://make.wordpress.org/core/2020/04/15/whats-new-in-gutenberg-15-april/) )ã€‚

![Background gradient settings for the Columns block](img/33c61b8e8d9e54640cab2f9d0b7a7e12.png)

Background gradient settings for the Columns block



#### å¡«å……å’Œé“¾æ¥é¢œè‰²æ§ä»¶

ä¸¤ä¸ªé¢å¤–çš„åŠŸèƒ½å·²ç»ç™»é™†æ ¸å¿ƒ( [Gutenberg 8.3](https://make.wordpress.org/core/2020/06/11/whats-new-in-gutenberg-11-june/) )ï¼Œä½†åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå®ƒä»¬ä»å¤„äºå®éªŒé˜¶æ®µ:

*   å°é¢å—çš„å¡«å……æ§ä»¶ã€‚
*   æ®µè½ã€æ ‡é¢˜ã€ç»„ã€åˆ—å’Œåª’ä½“&æ–‡æœ¬å—çš„é“¾æ¥é¢œè‰²æ§åˆ¶ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¡«å……æ§åˆ¶å’Œé“¾æ¥é¢œè‰²æ§åˆ¶æ˜¯å…³é—­çš„ï¼Œå¼€å‘è€…å¿…é¡»æ˜ç¡®å£°æ˜å¯¹å®ƒä»¬çš„æ”¯æŒï¼Œæ­£å¦‚[åœ¨å—ç¼–è¾‘å™¨æ‰‹å†Œ](https://developer.wordpress.org/block-editor/developers/themes/theme-support/)ä¸­è§£é‡Šçš„é‚£æ ·ã€‚

å¦‚æœæ‚¨æƒ³ä¸ºä¸»é¢˜æ·»åŠ å°é¢å—çš„å¡«å……æ§ä»¶ï¼Œåªéœ€å°†ä¸‹é¢ä¸€è¡Œæ·»åŠ åˆ°æ‚¨çš„[ä¸»é¢˜çš„ functions.php](https://kinsta.com/blog/wordpress-child-theme/#the-functions-file):

```
add_theme_support( 'experimental-custom-spacing' );
```

å¦‚æœæ‚¨æƒ³ä¸ºæ®µè½ã€æ ‡é¢˜ã€ç»„ã€åˆ—å’Œåª’ä½“&æ–‡æœ¬å—å¯ç”¨é“¾æ¥é¢œè‰²æ§åˆ¶ï¼Œåªéœ€å°†ä¸‹é¢ä¸€è¡Œæ·»åŠ åˆ°ä¸»é¢˜çš„å‡½æ•°æ–‡ä»¶ä¸­:

```
add_theme_support( 'experimental-link-color' );
```

#### è‡ªå®šä¹‰å•ä½å’Œè‡ªå®šä¹‰è¡Œé«˜

æ­¤æ–°åŠŸèƒ½å…è®¸æ‚¨è®¾ç½®ç›–å—çš„`px`ã€`em`ã€`rem`ã€`vw`å’Œ`vh`é«˜åº¦å€¼([å¤è…¾å ¡ 7.9](https://make.wordpress.org/core/2020/04/15/whats-new-in-gutenberg-15-april/) )ã€‚`%`ä¹Ÿå—æ”¯æŒï¼Œä½†ç”±äºç™¾åˆ†æ¯”é«˜åº¦çš„å‘ˆç°ä¸å¯é¢„æµ‹ï¼Œæ‰€ä»¥çœç•¥äº†å®ƒã€‚

é€šè¿‡[å¢å¼ºçš„é«˜åº¦æ§åˆ¶](https://github.com/WordPress/gutenberg/pull/20888)ï¼ŒæŒ‰ä½`Shift`çš„åŒæ—¶æŒ‰ä¸‹`up`æˆ–`down`å¯ä»¥è·³è·ƒ 10 ä¸ªæ•°å€¼ã€‚

![The new Unit Control](img/8c88a9dfc316c54d7a6dcf7128eb6f41.png)

The new Unit Control



å¼€å‘è€…å¯ä»¥é€šè¿‡å®šä¹‰`custom-units`æ”¯æŒæ ‡å¿—æ¥æ·»åŠ [å¯¹å®šåˆ¶å•å…ƒ](https://make.wordpress.org/core/2020/07/27/new-block-tools-on-wordpress-5-5/)çš„æ”¯æŒ:

```
add_theme_support( 'custom-units' );
```

æ‚¨è¿˜å¯ä»¥è®¾ç½®ç‰¹å®šçš„è‡ªå®šä¹‰å•ä½:

```
add_theme_support( 'custom-units', 'rem', 'em' );
```

å¼€å‘äººå‘˜è¿˜å¯ä»¥é€šè¿‡å®šä¹‰`custom-line-height`æ”¯æŒæ ‡å¿—æ¥ä¸ºæ ‡é¢˜å’Œæ®µè½æ·»åŠ è‡ªå®šä¹‰è¡Œé«˜:

```
add_theme_support( 'custom-line-height' );
```

### åµŒå…¥å¼å›¾åƒç¼–è¾‘

ä¸€ä¸ªæ–°çš„ç¼–è¾‘åŠŸèƒ½è¢«æ·»åŠ åˆ°å—ç¼–è¾‘å™¨ä¸­ï¼Œå¤è…¾å ¡ 8.4 å…è®¸ç”¨æˆ·ç›´æ¥ä»å›¾åƒå—ä¸­ç¼–è¾‘ T2 å›¾åƒã€‚

ç°åœ¨å®ƒå·²ç»è¢«åˆå¹¶åˆ° coreï¼Œä» WordPress 5.5 å¼€å§‹ï¼Œä½ å¯ä»¥è£å‰ªã€æ—‹è½¬ã€ç¼©æ”¾å’Œè°ƒæ•´å›¾åƒä½ç½®ï¼Œè€Œä¸éœ€è¦å¯åŠ¨[åª’ä½“åº“](https://kinsta.com/blog/wordpress-media-library/)ï¼Œä»è€Œå¸¦æ¥æ›´å¿«çš„ç¼–è¾‘ä½“éªŒã€‚

å¦‚æœä½ æ›¾ç»[å‘å¸ƒå¤§é‡ç…§ç‰‡](https://kinsta.com/blog/wordpress-photo-gallery-plugins/)ï¼Œæ¯«æ— ç–‘é—®ä½ ä¼šå–œæ¬¢è¿™ä¸ªåŠŸèƒ½ã€‚

![Inline image editing in WordPress 5.5](img/9daae7c38720687aeae548c78c0790f6.png)

Inline image editing in WordPress 5.5



åªéœ€ç‚¹å‡»å›¾åƒå·¥å…·æ ä¸­çš„è£å‰ªæŒ‰é’®ï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨æ–°çš„ç¼–è¾‘åŠŸèƒ½ã€‚å½“æ‚¨å¯¹æ‚¨çš„å®šåˆ¶æ»¡æ„æ—¶ï¼Œåº”ç”¨æ‚¨çš„æ›´æ”¹ï¼Œæ‚¨å°±å®Œæˆäº†ã€‚

WordPress å°†[åœ¨åª’ä½“åº“ä¸­ä¿å­˜ä¸€å¼ æ–°å›¾ç‰‡ä½œä¸ºé™„ä»¶](https://make.wordpress.org/core/2020/07/20/editing-images-in-the-block-editor/),å¹¶ä»åŸå§‹å›¾ç‰‡ä¸­å¤åˆ¶ç»†èŠ‚(æ ‡é¢˜ã€æè¿°ã€è¯´æ˜ã€æ›¿ä»£æ–‡æœ¬å’Œ EXIF æ•°æ®)ã€‚è¿™ä½¿æ‚¨å¯ä»¥å®Œå…¨æ§åˆ¶æ–°çš„å›¾åƒç‰ˆæœ¬ã€‚

### å—ç±»åˆ«å’Œæ–°å—é€†å˜å™¨é¢æ¿

é‡æ–°è®¾è®¡çš„å—æ’å…¥å™¨é¢æ¿æŒ‰ç±»åˆ«æ˜¾ç¤ºå—å’Œå›¾æ¡ˆï¼Œæ˜¾è‘—æ”¹å–„äº†ç¼–è¾‘ä½“éªŒï¼Œä½¿å—å’Œå›¾æ¡ˆæ›´å®¹æ˜“æ‰¾åˆ°([å¤è…¾å ¡ 8.3](https://make.wordpress.org/core/2020/06/11/whats-new-in-gutenberg-11-june/) )ã€‚

![Blocks and Patterns tabs in the new block inserter](img/2a60ecf22298784ff05269a99d7d1605.png)

Blocks and Patterns tabs in the new block inserter



### é˜»æ­¢ç›®å½•å’Œé˜»æ­¢æ’ä»¶

é€šè¿‡å®ç°[å—ç›®å½•](https://wordpress.org/plugins/browse/block/)ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä»å—æ’å…¥å™¨ä¸­æŸ¥æ‰¾ã€å®‰è£…å’Œæ·»åŠ ç¬¬ä¸‰æ–¹å—ã€‚

å½“ä½ æœç´¢ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…ï¼Œä½ ä¼šè¢«æç¤º[ä¸€ä¸ªåœ¨æ’ä»¶ç›®å½•](https://make.wordpress.org/core/2020/06/24/whats-new-in-gutenberg-24-june/)ä¸­å¯ç”¨çš„æ’ä»¶åˆ—è¡¨ã€‚è¿™äº›æ’ä»¶è¢«ç§°ä¸ºâ€œé˜»æ­¢æ’ä»¶â€ï¼Œä½ å¯ä»¥é€šè¿‡ç‚¹å‡»å°†å®ƒä»¬æ·»åŠ åˆ°ä½ çš„ç¼–è¾‘å™¨ä¸­ã€‚

![A third-party block from the WordPress Community](img/007e7c0d7aeab18b248c02569c4fa031.png)

A third-party block from the WordPress Community



å¤šäºäº†è¿™ä¸ªä»¤äººæ•¬ç•çš„æ–°åŠŸèƒ½ï¼Œä½ ç°åœ¨å¯ä»¥æ„å»ºè‡ªå·±çš„æ¨¡å—ï¼Œå¹¶[å°†å®ƒä»¬å‘å¸ƒåˆ°æ’ä»¶ç›®å½•](https://kinsta.com/blog/publish-plugin-wordpress-plugin-directory/)ï¼Œä½¿ä½ çš„ä½œå“å¯¹æ•´ä¸ª [WordPress ç¤¾åŒº](https://kinsta.com/learn/wordpress-communities/)å¯ç”¨ã€‚

å¥½æ¶ˆæ¯æ˜¯ï¼Œè¦åˆ›å»ºä½ çš„å®šåˆ¶å—ï¼Œä½ ä¸éœ€è¦æˆä¸ºä¸€ä¸ª PHP å¤§å¸ˆã€‚ä½ åªéœ€è¦ä¸€äº› JavaScript çš„å·¥ä½œçŸ¥è¯†ã€‚

ä¸çŸ¥é“å¦‚ä½•å¼€å§‹å¼€å‘è‡ªå·±çš„ç§¯æœ¨ï¼Ÿä»¤äººæ•¬ç•çš„ WordPress ç¤¾åŒºä¸ºä½ æä¾›äº†ä¸€ä¸ª[ç®€å•çš„é€æ­¥æ•™ç¨‹](https://developer.wordpress.org/block-editor/tutorials/block-tutorial/)ã€‚

å—æ•™ç¨‹çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬å·²ç»åœ¨å®˜æ–¹çš„å—ç¼–è¾‘å™¨æ‰‹å†Œä¸­æä¾›ï¼Œä»¥å¸®åŠ©æ‚¨å­¦ä¹ å—å¼€å‘çš„åŸºç¡€çŸ¥è¯†ã€‚ä½ å¯ä»¥åœ¨ Make WordPress Plugins åšå®¢ä¸Šé˜…è¯»æ›´å¤šå…³äº [block ç›®å½•å’Œ block æ’ä»¶å¼€å‘](https://make.wordpress.org/plugins/2020/07/11/you-can-now-add-your-own-plugins-to-the-block-directory/)çš„å†…å®¹ã€‚

### å—çŠ¶å›¾æ¡ˆ

å›åˆ° 2020 å¹´ 3 æœˆï¼Œ[å¤è…¾å ¡ 7.7](https://make.wordpress.org/core/2020/03/11/whats-new-in-gutenberg-11-march/) å’Œ[å¤è…¾å ¡ 7.8](https://make.wordpress.org/core/2020/03/26/whats-new-in-gutenberg-25-march/) æ¨å‡ºäº†å—æ¨¡å¼å’Œç”¨äº[ä¸»é¢˜](https://kinsta.com/best-wordpress-themes/)å’Œ[æ’ä»¶](https://kinsta.com/best-wordpress-plugins/)çš„[å—æ¨¡å¼ API](https://github.com/WordPress/gutenberg/pull/21074) ã€‚

å—æ¨¡å¼æ˜¯é¢„å®šä¹‰çš„å—å¸ƒå±€ï¼Œå…è®¸ç”¨æˆ·å¿«é€Ÿå°†åµŒå¥—å—çš„å¤æ‚ç»“æ„æ·»åŠ åˆ°ä»–ä»¬çš„é¡µé¢ä¸­ã€‚ä»–ä»¬çš„ç›®çš„æ˜¯å¸®åŠ©[å†…å®¹ä½œè€…](https://kinsta.com/learn/content-marketing/)å’Œç½‘ç«™ç®¡ç†å‘˜å…‹æœâ€œç©ºç™½é¡µç»¼åˆç—‡â€,è½»æ¾æ„å»ºä¸“ä¸šå¸ƒå±€å’Œé«˜çº§è§†å›¾ã€‚

æˆ‘ä»¬åº”è¯¥åœ¨å…¨ç«™ç‚¹ç¼–è¾‘ä¸­çœ‹åˆ°å—æ¨¡å¼çš„æœ€ä½³çŠ¶æ€ã€‚

å¤è…¾å ¡é¡¹ç›®çš„é¦–å¸­å»ºç­‘å¸ˆ Mathias Ventura æ¸…æ¥šåœ°è§£é‡Šäº†ä»€ä¹ˆæ˜¯å—æ¨¡å¼ã€‚

> æœ‰ä¸€ç‚¹éœ€è¦æ¾„æ¸…â€”â€”â€œå—æ¨¡å¼â€è®¾ç½®ä¸æ¨¡æ¿éƒ¨ä»¶(åœ¨ç»“æ„ä¸Šæœ‰æ„ä¹‰)å…³ç³»ä¸å¤§ï¼Œæ›´å¤šçš„æ˜¯ç”±è¾ƒå°çš„å—ç»„æˆçš„ä¸€èˆ¬è®¾è®¡å…ƒç´ ã€‚ä¸€æ—¦æ’å…¥ï¼Œå®ƒä»¬å°±ä¸ä¼šåˆ†å¼€å­˜æ”¾ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªâ€œå°é¢â€å›¾åƒç»„åˆäº†å‡ ä¸ªå—æ¥å®ç°ä¸€ä¸ªç‰¹å®šçš„å¤–è§‚ï¼Œå¦åˆ™ç”¨æˆ·éœ€è¦åšä¸€äº›å·¥ä½œæ¥å®Œæˆã€‚å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªè®¾è®¡çš„é›†åˆï¼Œå¯ä»¥æ·»åŠ åˆ°ä»»ä½•åœ°æ–¹ï¼Œè€Œä¸ä¸€å®šä»£è¡¨ä¸»é¢˜æ¨¡æ¿çš„å¯é‡ç”¨éƒ¨åˆ†ã€‚

ä¸æ¨¡æ¿éƒ¨ä»¶ä¸åŒï¼Œå—æ¨¡å¼æ˜¯è®¾è®¡å…ƒç´ ï¼Œå¯ä»¥å¸®åŠ©ç½‘ç«™ç®¡ç†å‘˜å’Œå†…å®¹åˆ›å»ºè€…åŠ å¿«å’Œæ”¹å–„ä»–ä»¬çš„ç¼–è¾‘ä½“éªŒã€‚

Gutenberg 7.7 å‘å¸ƒæ—¶ï¼Œæœ€åˆåŒºå—æ¨¡å¼å‡ºç°åœ¨ä¾§è¾¹æ æ’ä»¶ä¸­ã€‚åæ¥ï¼Œéšç€å¤è…¾å ¡ 8.0 çš„[å‘å¸ƒï¼Œä»–ä»¬è¿›å…¥äº†ä¸€ä¸ª](https://make.wordpress.org/core/2020/04/29/whats-new-in-gutenberg-29-april/)[æ”¹è¿›çš„å—æ’å…¥å™¨](https://github.com/WordPress/gutenberg/pull/20951)ï¼Œç°åœ¨ä½œä¸ºä¸€ä¸ªé¢æ¿å‡ºç°åœ¨ç¼–è¾‘å™¨çš„å·¦ä¾§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:

![The Gallery Pattern in WordPress 5.5](img/03b5b2369ca9e1f69a142e99659339e6.png)

The Gallery Pattern in WordPress 5.5



åœ¨æ—©æœŸé˜¶æ®µï¼Œå—æ¨¡å¼åªæœ‰éå¸¸æœ‰é™çš„ä¸€ç»„æ¨¡å¼ã€‚æ— è®ºå¦‚ä½•ï¼Œå®ƒä»¬ç»™ç¼–è¾‘ä½“éªŒå¸¦æ¥äº†å·¨å¤§çš„æ”¹è¿›ï¼Œå¸Œæœ›åœ¨ä¸ä¹…çš„å°†æ¥ä¼šæœ‰æ›´å¤šçš„æ”¹è¿›ã€‚

ä¸å¸¸è§„å—ä¸€æ ·ï¼Œæ¨¡å¼æ˜¯å¯æœç´¢çš„ï¼Œå¹¶æŒ‰ä»¥ä¸‹ç±»åˆ«è¿›è¡Œç»„ç»‡:

*   æ–‡æœ¬
*   æµ·ç½—ï¼ˆäººåï¼‰ï¼›è‹±é›„ï¼ˆç”µå½±åï¼‰
*   åˆ—
*   å°è·Ÿç­
*   èµ°å»Š
*   ç‰¹å¾
*   è¯æ˜ä¹¦
*   æœªåˆ†ç±»çš„

![The Numbered features pattern in WordPress 5.5](img/3829c53ae0a3aa0ecd0bb004547e795c.png)

The Numbered features pattern in WordPress 5.5



é™¤äº†å†…ç½®çš„å—æ¨¡å¼ï¼Œ [WordPress å¼€å‘è€…](https://kinsta.com/blog/wordpress-developer-salary/)å¯ä»¥åˆ©ç”¨ä¸€ä¸ªå…¨æ–°çš„ API ä¸ºä»–ä»¬çš„ä¸»é¢˜å’Œæ’ä»¶æä¾›å®šåˆ¶æ¨¡å¼ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨`register_block_pattern`åŠŸèƒ½å’Œ`register_block_pattern_category`ä¸ºç±»åˆ«æ³¨å†Œæ‚¨çš„è‡ªå®šä¹‰æ¨¡å¼ã€‚

`register_block_pattern`éœ€è¦ä¸¤ä¸ªå‚æ•°:

1.  æ¨¡å¼çš„åç§°ã€‚
2.  æ¨¡å¼å±æ€§çš„æ•°ç»„ã€‚

å±æ€§åŒ…æ‹¬ä»¥ä¸‹å†…å®¹:

*   `title`
*   `content`
*   `description`
*   `categories`
*   `keywords`
*   `viewportWidth`

`register_block_pattern_category`ä¹Ÿéœ€è¦ä¸¤ä¸ªå‚æ•°:

1.  æ¨¡å¼ç±»åˆ«çš„åç§°ã€‚
2.  å±æ€§æ•°ç»„ã€‚

API è¿˜æä¾›äº†ä¸¤ä¸ªå‡½æ•°æ¥æ³¨é”€æ¨¡å¼å’Œç±»åˆ«:`unregister_block_pattern`å’Œ`unregister_block_pattern_category`ã€‚

æ„å»ºè‡ªå·±çš„å—æ¨¡å¼çš„æ–¹æ³•éå¸¸ç®€å•ã€‚ä¾‹å¦‚ï¼Œå¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ä»£ç åˆ°ä¸€ä¸ªè‡ªå®šä¹‰æ’ä»¶æˆ–è€…ä¸€ä¸ª[å­ä¸»é¢˜çš„å‡½æ•°æ–‡ä»¶](https://kinsta.com/blog/wordpress-child-theme/)ï¼Œç„¶åæ ¹æ®ä½ çš„å–œå¥½æ”¹å˜æ¨¡å¼çš„åç§°ã€‚

```
add_action( 'init', function(){

	register_block_pattern_category( 
		'kinsta', 
		array( 'label' => __( 'Kinsta stuff', 'kinsta-pattern' ) ) );

	register_block_pattern(
	'kinsta-pattern/my-custom-pattern',
	array(
		'title'			=> __( 'Two Kinsta buttons', 'kinsta-pattern' ),
		'description'	=> _x( 'Two nice buttons.', 'Kinsta Buttons', 'kinsta-pattern' ),
		'content'		=> "<!-- wp:buttons {\"align\":\"center\"} -->\n<div class=\"wp-block-buttons aligncenter\"><!-- wp:button {\"backgroundColor\":\"very-dark-gray\",\"borderRadius\":0} -->\n<div class=\"wp-block-button\"><a class=\"wp-block-button__link has-background has-very-dark-gray-background-color no-border-radius\">" . esc_html__( 'Button One', 'kinsta-pattern' ) . "</a></div>\n<!-- /wp:button -->\n\n<!-- wp:button {\"textColor\":\"very-dark-gray\",\"borderRadius\":0,\"className\":\"is-style-outline\"} -->\n<div class=\"wp-block-button is-style-outline\"><a class=\"wp-block-button__link has-text-color has-very-dark-gray-color no-border-radius\">" . esc_html__( 'Button Two', 'kinsta-pattern' ) . "</a></div>\n<!-- /wp:button --></div>\n<!-- /wp:buttons -->",
		'categories'	=> array( 'kinsta' ),
	)
	);
});
```

ä¸Šé¢çš„ä»£ç æ˜¯å¯¹æ¥è‡ª[å— API å¼•ç”¨](https://developer.wordpress.org/block-editor/developers/block-api/block-patterns/)çš„åŸå§‹ä»£ç ç‰‡æ®µçš„ç®€å•å®šåˆ¶ã€‚å¦‚æ‚¨æ‰€è§ï¼Œä¸éœ€è¦ JavaScriptã€‚

![A custom block pattern](img/5daa5d6703a781c900669cc149905e07.png)

A custom block pattern



å¦è§ WordPress 5.5 ä¸­çš„[æ¨¡å—æ¨¡å¼ã€‚](https://make.wordpress.org/core/2020/07/16/block-patterns-in-wordpress-5-5/)



### é‡è¦çš„

è¯·æ³¨æ„ï¼Œæ¨¡å¼æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„ç‰¹æ€§ï¼ŒAPI å¯èƒ½ä¼šéšç€ Gutenberg æ’ä»¶çš„æœªæ¥ç‰ˆæœ¬è€Œæ”¹å˜ã€‚



## WordPress æ ¸å¿ƒä¸­çš„æœ¬åœ°é•œåƒå»¶è¿ŸåŠ è½½

[å»¶è¿ŸåŠ è½½](https://kinsta.com/blog/wordpress-lazy-load/)æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œå³[æ¨è¿Ÿéå…³é”®èµ„æºçš„åŠ è½½](https://kinsta.com/blog/critical-rendering-path/)ã€‚è¿™æ„å‘³ç€æµè§ˆå™¨è¢«æŒ‡ç¤ºåœ¨é¡µé¢åŠ è½½æ—¶åŠ è½½å¯è§†å†…å®¹ï¼Œå¹¶æ¨è¿Ÿä¸‹è½½å’Œæ¸²æŸ“æ–‡ä»¶å¤¹[ä¸‹çš„å›¾åƒï¼Œç›´åˆ°å®é™…éœ€è¦å®ƒä»¬çš„æ—¶å€™](https://kinsta.com/blog/eliminate-render-blocking-javascript-css/)ã€‚



### ä¿¡æ¯

è¯´åˆ°[ç½‘é¡µæ€§èƒ½](https://kinsta.com/learn/speed-up-wordpress/)ï¼Œ[å›¾ç‰‡ä¼˜åŒ–](https://kinsta.com/blog/optimize-images-for-web/)æ˜¯ç½‘ç«™ç®¡ç†å‘˜çš„ä¸€ä¸ªé‡è¦æ–¹é¢ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå›¾ç‰‡ä»ç„¶æ˜¯ç½‘é¡µçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå›¾ç‰‡ä¼˜åŒ–å¯ä»¥å¸®åŠ©è¯»è€…å’Œå®¢æˆ·è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚è®°ä½:[é¡µé¢é€Ÿåº¦ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„æ’åå› ç´ ](https://kinsta.com/blog/wordpress-seo/#38-optimize-your-websites-speed)ã€‚



åœ¨[åŸç”Ÿæƒ°æ€§åŠ è½½](https://addyosmani.com/blog/lazy-loading/)ä¹‹å‰ï¼Œweb å¼€å‘äººå‘˜å¯ä»¥[é€šè¿‡ JavaScript](https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/) ï¼Œä½¿ç”¨ [IntersectionObserver API](https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/#using_intersection_observer) æˆ–ä½¿ç”¨`scroll`ã€`resize`å’Œ`orientationchange` [äº‹ä»¶å¤„ç†ç¨‹åº](https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/#using_event_handlers_the_most_compatible_way)æƒ°æ€§åŠ è½½èµ„äº§ã€‚

ä½†æ˜¯è‡ªä»[å»¶è¿ŸåŠ è½½æˆä¸ºæ ‡å‡†çš„](https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-loading)ä¹‹åï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ç¼–å†™å®šåˆ¶ä»£ç æˆ–è€…ä½¿ç”¨ [JavaScript åº“](https://kinsta.com/blog/javascript-libraries/)ï¼Œå¹¶ä¸” [lazyload images](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-loading) å¯ä»¥ä½¿ç”¨`img`å’Œ`iframe`æ ‡ç­¾ä¸­æ–°çš„`loading`å±æ€§æ¥å®ç°ã€‚

![Lazy loading via attribute for images](img/6cafa17047cb00ae13bdc2d8bce0baf6.png)

Lazy loading via attribute for images & iframes (Source: [caniuse.com](https://caniuse.com/#feat=loading-lazy-attr))



`loading`å±æ€§å†³å®šäº†æµè§ˆå™¨æ˜¯åº”è¯¥ç«‹å³åŠ è½½èµ„æºè¿˜æ˜¯ç­‰åˆ°æ»¡è¶³æŸäº›æ¡ä»¶åå†åŠ è½½ã€‚å®ƒç›®å‰æ”¯æŒä»¥ä¸‹å€¼:

*   `lazy`:ç­‰å¾…ï¼Œç›´åˆ°æ»¡è¶³æŸäº›æ¡ä»¶
*   `eager`:ç«‹å³åŠ è½½èµ„æº

![Lazy loading settings in Chrome](img/7aaddb5876fec5134dc4c64cc83bc894.png)

Lazy loading settings in Chrome (available at chrome://flags/#enable-lazy-image-loading)



åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå¾®è½¯ Edgeã€ [Firefox](https://www.ghacks.net/2020/02/15/firefox-75-gets-lazy-loading-support-for-images/) ã€[è°·æ­Œ Chrome](https://github.com/scott-little/lazyload/) ã€Opera æµè§ˆå™¨ã€Android æµè§ˆå™¨å’Œ Chrome for Android éƒ½æ”¯æŒåŸç”Ÿå»¶è¿ŸåŠ è½½ã€‚

![Lazy loading settings in Autoptimize](img/4d3b7c15097fc756895ad178fff1b1f9.png)

Lazy loading settings in Autoptimize



åœ¨ WordPress 5.5 ä¹‹å‰ï¼Œå»¶è¿ŸåŠ è½½åªèƒ½åœ¨å¸¦æœ‰[ä¼˜åŒ–æ’ä»¶](https://kinsta.com/blog/wordpress-lazy-load/#lazy-loading-plugins)çš„ WordPress ä¸­å®ç°ï¼Œæ¯”å¦‚[è‡ªåŠ¨ä¼˜åŒ–](https://kinsta.com/blog/autoptimize-settings/)ï¼ŒBJ å»¶è¿ŸåŠ è½½ï¼Œæˆ–è€…å…¶ä»–ã€‚ç°åœ¨å®ƒæ˜¯ WordPress æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦å®‰è£…é¢å¤–çš„æ’ä»¶ï¼

### WordPress ä¸­çš„æœ¬åœ°å»¶è¿ŸåŠ è½½

æ­£å¦‚ Felix Arntz [åœ¨ Make WordPress Core blog](https://make.wordpress.org/core/2020/01/29/lazy-loading-images-in-wordpress-core/) ä¸Šçš„ä¸€ç¯‡æ—§åšæ–‡ä¸­æ‰€æŠ¥é“çš„ï¼ŒWordPress ä¸­æƒ°æ€§åŠ è½½çš„ JavaScript å®ç°æœ€åˆæ˜¯åœ¨å‡ å¹´å‰æå‡ºçš„ï¼Œä½†å®ƒä»æœªæˆä¸ºæ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ã€‚æœ¬æœºæƒ°æ€§å›¾åƒåŠ è½½çš„æ–°å®ç°æ¶ˆé™¤äº†ä»»ä½•å…¼å®¹æ€§é—®é¢˜ï¼Œå› æ­¤æ–°åŠŸèƒ½å¯ä»¥å®‰å…¨åœ°ä¸ WordPress 5.5 çš„æ ¸å¿ƒåŠŸèƒ½[åˆå¹¶ã€‚](https://make.wordpress.org/core/2020/07/14/lazy-loading-images-in-5-5/)

æ ¹æ® Felix çš„è¯´æ³•ï¼ŒWordPress å›¾ç‰‡çš„åŸç”Ÿå»¶è¿ŸåŠ è½½åº”è¯¥ä¼šå¯¹å¤§é‡æ²¡æœ‰ä½¿ç”¨å»¶è¿ŸåŠ è½½æ’ä»¶çš„ WordPress ç½‘ç«™çš„[ç½‘ç«™æ€§èƒ½](https://kinsta.com/blog/boosting-wordpress-performance/)å’Œç”¨æˆ·ä½“éªŒäº§ç”Ÿæœ‰ç›Šçš„å½±å“:

> â€¦ä¸éœ€è¦ä»»ä½•æŠ€æœ¯çŸ¥è¯†ï¼Œç”šè‡³ä¸çŸ¥é“å»¶è¿ŸåŠ è½½æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚é‡‡ç”¨æ–°çš„åŠ è½½å±æ€§æ˜¯ WordPress å¼•é¢†æ›´å¿«ç½‘ç»œçš„ä¸€ä¸ªå¾ˆå¥½çš„æœºä¼šã€‚

ä¸ºäº†é˜²æ­¢å¸ƒå±€åç§»ï¼Œ`loading="lazy"`å°†è‡ªåŠ¨æ·»åŠ åˆ°å¸¦æœ‰`width`å’Œ`height`å±æ€§çš„`img`æ ‡ç­¾**ä¸­ï¼Œå¹¶ä¸”åªæœ‰å½“å›¾ç‰‡ä½œä¸ºé™„ä»¶å¯ç”¨äº WordPress å¹¶ä¸”åŒ…å«ä¸€ä¸ª`wp-image-$id`ç±»æ—¶æ‰æœ‰å¯èƒ½ã€‚**

å¯¹äºæ¯ä¸€ä¸ªå®‰è£…æœ‰å¤§é‡å›¾ç‰‡çš„ WordPress å’Œç½‘ç«™æ¥è¯´ï¼Œå»¶è¿ŸåŠ è½½æ˜¯ä¸€ä¸ªå¿…é¡»çš„ä¼˜åŒ–ã€‚è´¹åˆ©å…‹æ–¯æ³¨æ„åˆ°:

> è¿™å°†æå¤§åœ°èŠ‚çœæœåŠ¡å™¨å’Œè·¨ç«™ç‚¹ç”¨æˆ·ä»£ç†çš„å¸¦å®½ï¼Œåœ¨è¿™äº›ç«™ç‚¹ä¸­ï¼Œé¡µé¢ä¸‹æ–¹çš„å›¾åƒé€šå¸¸ä¼šè¢«ç«‹å³åŠ è½½ï¼Œå³ä½¿åœ¨ç”¨æˆ·å¯èƒ½æ°¸è¿œä¸ä¼šæ»šåŠ¨åˆ°å®ƒä»¬çš„æƒ…å†µä¸‹ã€‚

WordPress ä¸­çš„æœ¬åœ°å»¶è¿ŸåŠ è½½å¯ä»¥å¤„ç†ä»¥ä¸‹å›¾ç‰‡:

*   å¸–å­å†…å®¹ä¸­çš„å›¾ç‰‡(`the_content`)ã€‚
*   å¸–å­ä¸­çš„å›¾ç‰‡æ‘˜å½•(`the_excerpt`)ã€‚
*   æ–‡æœ¬å°å·¥å…·ä¸­çš„å›¾åƒ(`widget_text_content`)ã€‚
*   é€šè¿‡`get_avatar()`æ¸²æŸ“çš„å¤´åƒå›¾åƒã€‚
*   æ¨¡æ¿å›¾åƒä½¿ç”¨`wp_get_attachment_image`

åœ¨ç¬¬ä¸€ä¸ªå®ç°ä¸­ï¼Œå»¶è¿ŸåŠ è½½åªæ”¯æŒå›¾åƒï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æœŸå¾…æœªæ¥å¯¹`iframe`æ ‡ç­¾çš„å»¶è¿ŸåŠ è½½çš„å¢å¼ºã€‚

### WordPress å¼€å‘è€…çš„å»¶è¿ŸåŠ è½½

å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨å‡ ä¸ªæ–°çš„è¿‡æ»¤å™¨æ¥è¦†ç›–é»˜è®¤è¡Œä¸ºã€‚åœ¨è¿™äº›è¿‡æ»¤å™¨ä¸­ï¼Œ`wp_lazy_loading_enabled`å’Œ`wp_img_tag_add_loading_attr`å¯¹å¼€å‘è€…æœ€æœ‰ç”¨:

*   `wp_lazy_loading_enabled`æ‰“å¼€å’Œå…³é—­`loading`å±æ€§ã€‚è¯¥è¿‡æ»¤å™¨å¯ä»¥å…¨å±€åº”ç”¨ï¼Œä¹Ÿå¯ä»¥æŒ‰æ ‡ç­¾åº”ç”¨ã€‚
*   `wp_img_tag_add_loading_attr`è¿‡æ»¤`loading`å±æ€§å€¼ï¼Œå¹¶æä¾›ä¸€ç§æ–¹æ³•æ¥æ§åˆ¶æ¯ä¸ªå›¾åƒçš„å»¶è¿ŸåŠ è½½ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•å…¨å±€ç¦ç”¨å»¶è¿ŸåŠ è½½:

```
add_filter( 'wp_lazy_loading_enabled', '__return_false' );
```

æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºç‰¹å®šçš„æ ‡ç­¾ç¦ç”¨å»¶è¿ŸåŠ è½½ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå»¶è¿ŸåŠ è½½åœ¨`the_content`ä¸Šä¸‹æ–‡ä¸­çš„å›¾åƒä¸Šè¢«å…³é—­(é˜…è¯»æ›´å¤šå…³äº [Make WordPress Core](https://make.wordpress.org/core/2020/07/14/lazy-loading-images-in-5-5/) ):

## æ³¨å†Œè®¢é˜…æ—¶äº‹é€šè®¯



### æƒ³çŸ¥é“æˆ‘ä»¬æ˜¯æ€ä¹ˆè®©æµé‡å¢é•¿è¶…è¿‡ 1000%çš„å—ï¼Ÿ

åŠ å…¥ 20ï¼Œ000 å¤šåè·å¾—æˆ‘ä»¬æ¯å‘¨æ—¶äº‹é€šè®¯å’Œå†…éƒ¨æ¶ˆæ¯çš„äººçš„è¡Œåˆ—å§ï¼

[Subscribe Now](#newsletter)

```
add_filter(
	'wp_lazy_loading_enabled',
	function( $default, $tag_name, $context ){
		if ( 'img' === $tag_name && 'the_content' === $context ){
			return false;
		}
		return $default;
	},
	10,
	3
);
```

*   `$default`:å¸ƒå°”é»˜è®¤å€¼(`true`)ã€‚
*   `$tag_name`:è¦å»¶è¿ŸåŠ è½½çš„å…ƒç´ çš„æ ‡ç­¾åã€‚
*   `$context`:å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šå›¾åƒçš„ä¸Šä¸‹æ–‡(è§ä¸Šè¡¨)ã€‚

æ³¨æ„ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œ`$tag_name`å‚æ•°åªæ”¯æŒ`img`æ ‡ç­¾ã€‚æ— è®ºå¦‚ä½•ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œæ›´å¤šçš„æ ‡ç­¾åº”è¯¥è¢«æ·»åŠ åˆ°æœªæ¥çš„å®ç°ä¸­ã€‚

å¦‚æœä½ æƒ³åœ¨ WordPress ä¸­å¯¹å›¾ç‰‡å»¶è¿ŸåŠ è½½è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œä½ å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡éµå¾ªä¸¤ç§ä¸åŒçš„æ–¹æ³•ã€‚

å¦‚æœæ‚¨æ­£åœ¨å¤„ç†å†…å®¹(å³`the_content`ã€`the_excerpt`ã€`widget_text_content`ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`wp_img_tag_add_loading_attr`è¿‡æ»¤å™¨ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•åœ¨ç‰¹å®šæ˜ åƒä¸Šç¦ç”¨å»¶è¿ŸåŠ è½½:

```
add_filter(
	'wp_img_tag_add_loading_attr',
	function( $value, $image, $context ){
		if ( 'the_content' === $context ){
			$image_url = wp_get_attachment_image_url( 67, 'medium' );
			if ( false !== strpos( $image, ' src="' . $image_url . '"' ) ) {
				return false;
			}
		}
		return $value;
	},
	10,
	3
);
```

ä¸»é¢˜å¼€å‘è€…ä¹Ÿå¯ä»¥é€šè¿‡ [wp_get_attachment_image](https://developer.wordpress.org/reference/functions/wp_get_attachment_image/) æ§åˆ¶å›¾ç‰‡ã€‚åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°å°†å›¾åƒçš„`loading`å±æ€§å€¼è®¾ç½®ä¸º`false`:

```
echo wp_get_attachment_image(
	67,
	'medium',
	false,
	array( 'loading' => false ),
);
```

![The first image in the above gallery is not lazy loaded](img/6b2dff5c29d9912de1dd2898de2737cc.png)

The first image in the above gallery is not lazy loaded



> ä¸ºäº†æ›´å¿«çš„è®¿é—®é€Ÿåº¦å’Œæ›´å°‘çš„ç½‘ç»œèµ„æºæµªè´¹ï¼ŒåŸç”Ÿçš„å»¶è¿ŸåŠ è½½å›¾åƒå°†ä¼šå‡ºç°åœ¨ 5.5 ä¸­ï¼å®ƒè¿˜ä¼´éšç€è¿›ä¸€æ­¥çš„å›¾åƒæ”¹è¿›ï¼Œå‡å°‘äº†é‚£äº›æ¼äººçš„å¸ƒå±€å˜åŒ–ï¼Œä½¿ä½ ä¸å°å¿ƒç‚¹å‡»äº†é”™è¯¯çš„ä¸œè¥¿ã€‚https://t.co/e7g2s9uSPk
> 
> â€”â€”è´¹åˆ©å…‹æ–¯Â·é˜¿æ©èŒ¨(@è´¹åˆ©å…‹æ–¯Â·é˜¿æ©èŒ¨)[2020 å¹´ 7 æœˆ 14 æ—¥](https://twitter.com/felixarntz/status/1283167725313880064?ref_src=twsrc%5Etfw)